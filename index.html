<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Para ti ❤️</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Special+Elite&display=swap');

body{
  margin:0;
  overflow:hidden;
  font-family:'Special Elite', monospace;
  background:url("foto8.jpg") center/cover no-repeat fixed;
  color:white;
  text-shadow:2px 2px 6px black;
}

/* ESCENAS */
.scene{
  position:absolute;
  width:100%;
  height:100vh;
  top:0; left:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:20px;
  box-sizing:border-box;
  transition:transform 1.2s ease;
}
#scene2{ transform:translateX(100%); }

/* TEXTO */
#texto{
  margin-top:20px;
  font-size:22px;
  text-align:center;
  max-width:900px;
  line-height:1.5;
  min-height:200px;
}

/* ZONA CORAZÓN */
#zonaCorazon{
  position:relative;
  width:100%;
  height:55%;
  overflow:hidden;
}

/* CORAZONES */
.heart{
  position:absolute;
  width:18px;height:18px;
  transform:rotate(45deg);
}
.heart:before,.heart:after{
  content:"";
  position:absolute;
  width:18px;height:18px;
  border-radius:50%;
  background:inherit;
}
.heart:before{ top:-9px; }
.heart:after{ left:-9px; }

/* BOTON */
button{
  margin-top:10px;
  padding:10px 24px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#ff4d88;
  color:white;
  cursor:pointer;
  display:none;
}

/* COLLAGE */
.collage{
  position:relative;
  width:100%;
  height:70%;
}
.collage img{
  position:absolute;
  width:32%;
  opacity:0;
  transform:scale(0.5);
  transition:all 1s ease;
}
.show{
  opacity:1 !important;
  transform:scale(1) !important;
}

/* SOBRE */
#sobre{
  position:absolute;
  right:-350px;
  bottom:8%;
  width:220px;
  transition:right 2s ease;
}
#carta{
  position:absolute;
  bottom:90px;
  left:20px;
  width:180px;
  height:0;
  background:white;
  color:black;
  overflow:hidden;
  transition:height 2s ease;
  padding:10px;
  box-sizing:border-box;
  text-align:center;
  font-size:16px;
}
</style>
</head>

<body>

<!-- ESCENA 1 -->
<div id="scene1" class="scene">
  <div id="texto"></div>
  <div id="zonaCorazon"></div>
  <button id="btnNext" onclick="nextScene()">Siguiente</button>
</div>

<!-- ESCENA 2 -->
<div id="scene2" class="scene">
  <div class="collage">
    <img src="foto1.jpeg" style="top:5%; left:5%;">
    <img src="foto2.jpeg" style="top:10%; left:55%;">
    <img src="foto3.jpeg" style="top:40%; left:10%;">
    <img src="foto4.jpeg" style="top:35%; left:60%;">
    <img src="foto5.jpeg" style="top:65%; left:30%;">
    <img src="foto6.jpeg" style="top:20%; left:30%;">
    <img src="foto7.jpeg" style="top:55%; left:65%;">
  </div>

  <div id="sobre">
    <svg viewBox="0 0 300 200">
      <rect x="0" y="50" width="300" height="150" fill="#f5deb3"/>
      <polygon points="0,50 150,0 300,50" fill="#deb887"/>
    </svg>
    <div id="carta">
      ❤️ ¿Te gustaría ser mi Valentín? ❤️
    </div>
  </div>
</div>

<script>
// ===== TEXTO =====
const mensaje = `Mi Laura, usted es una de las pocas razones por las que estoy contento 
de haber vivido en este tiempo, y es que el mundo se me hace menos mundo desde 
sé que estás en él. 
La vida ya tenia sentido, pero contigo descubrí que tiene más.
Mientras unos respiran para sentir el milagro de vivir,
Yo respiro para sentir el milagro de poderte amar.
Ahora, quisiera preguntarte algo...`;

let i=0;
function escribir(){
  if(i < mensaje.length){
    texto.innerHTML += mensaje.charAt(i);
    i++;
    setTimeout(escribir,30);
  }else{
    btnNext.style.display="block";
  }
}
escribir();

// ===== LLUVIA =====
const zona=document.getElementById("zonaCorazon");
let hearts=[];

function colorRandom(){
  const c=["#ff4d88","#ff99bb","#ff3366","#ff6699","#ff1a75"];
  return c[Math.floor(Math.random()*c.length)];
}

for(let k=0;k<260;k++){
  const h=document.createElement("div");
  h.className="heart";
  h.style.background=colorRandom();
  h.style.left=Math.random()*window.innerWidth+"px";
  h.style.top="-40px";
  h.style.transition="top 3s ease";
  zona.appendChild(h);
  hearts.push(h);

  setTimeout(()=>{
    h.style.top=(zona.clientHeight-40)+"px";
  }, Math.random()*2000);
}

setTimeout(formarCorazon,5500);

function formarCorazon(){
  const cx=window.innerWidth/2, cy=zona.clientHeight-120, size=260;
  hearts.forEach((h,idx)=>{
    let t = Math.PI*2*idx/hearts.length;
    let x = size*16*Math.pow(Math.sin(t),3);
    let y = -size*(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
    h.style.transition="all 3s ease";
    h.style.left = (cx + x/25)+"px";
    h.style.top  = (cy + y/25)+"px";
  });
}

// ===== ESCENA 2 =====
function nextScene(){
  scene1.style.transform="translateX(-100%)";
  scene2.style.transform="translateX(0)";
  startCollage();
}

function startCollage(){
  const imgs=document.querySelectorAll(".collage img");
  imgs.forEach((img,i)=>{
    setTimeout(()=> img.classList.add("show"), i*700);
  });
  setTimeout(mostrarSobre, imgs.length*700 + 1200);
}

function mostrarSobre(){
  sobre.style.right="20px";
  setTimeout(()=> carta.style.height="90px",2000);
}
</script>

</body>
</html>

